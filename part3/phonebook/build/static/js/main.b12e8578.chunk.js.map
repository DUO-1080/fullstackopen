{"version":3,"sources":["services/phoneService.js","components/Filter.jsx","components/PersonForm.jsx","components/Persons.jsx","components/Message.jsx","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","person","post","id","url","delete","put","Filter","onFilter","type","onChange","e","target","value","PersonForm","onAddPerson","useState","name","setName","number","setNumber","onSubmit","preventDefault","htmlFor","Persons","persons","onDeletePerson","map","key","onClick","Message","message","className","success","info","App","setPersons","filterName","setFilterName","setMessage","useEffect","phoneService","filteredPerson","filter","toLowerCase","includes","existPerson","find","p","console","log","window","confirm","concat","setTimeout","catch","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b12e8578.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst addPerson = (person) => {\n  return axios.post(baseUrl, person).then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const url = `${baseUrl}/${id}`;\n  return axios.delete(url);\n};\n\nconst update = (id, person) => {\n  const url = `${baseUrl}/${id}`;\n  return axios.put(url, person).then((response) => response.data);\n};\n\nexport default { getAll, addPerson, remove, update };\n","import React from \"react\";\n\nconst Filter = ({ onFilter }) => {\n\n  const handleInputChange = (e) => {\n    onFilter(e.target.value);\n  };\n\n  return (\n    <div>\n      <p>filter show with: </p>\n      <input type=\"text\" onChange={handleInputChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React, { useState } from \"react\";\n\nconst PersonForm = ({ onAddPerson }) => {\n  const [name, setName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPerson({\n      name,\n      number,\n    });\n    setName(\"\");\n    setNumber(\"\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor=\"name\">name</label>\n        <input\n          type=\"text\"\n          id=\"name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n      </div>\n      <div>\n        <label htmlFor=\"number\">number</label>\n        <input\n          type=\"number\"\n          id=\"number\"\n          value={number}\n          onChange={(e) => setNumber(e.target.value)}\n        />\n      </div>\n      <input type=\"submit\" value=\"add\" />\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, onDeletePerson }) => {\n  return (\n    <>\n      {persons.map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => onDeletePerson(person.id)}>delete</button>\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import React from \"react\";\nimport \"./Message.css\";\n\nconst Message = ({ message }) => {\n  return (\n    <div className={message.success ? \"success message\" : \"fail message\"}>\n      {message.info}\n    </div>\n  );\n};\n\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport phoneService from \"./services/phoneService\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Message from \"./components/Message\";\n\nfunction App() {\n  const [persons, setPersons] = useState([]);\n  const [filterName, setFilterName] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    phoneService.getAll().then((persons) => setPersons(persons));\n  }, []);\n\n  const handleFilter = (name) => {\n    setFilterName(name.toLowerCase());\n  };\n\n  const handleAddPerson = (person) => {\n    const existPerson = persons.find(\n      (p) => p.name.toLowerCase() === person.name.toLowerCase()\n    );\n    console.log(\"exist person:\", existPerson);\n    if (existPerson) {\n      window.confirm(\n        `${person.name} is already added to phonebook, replace the old number with the new one?`\n      ) &&\n        phoneService\n          .update(existPerson.id, person)\n          .then((person) =>\n            setPersons(persons.map((p) => (p.id === person.id ? person : p)))\n          );\n    } else {\n      phoneService.addPerson(person).then((person) => {\n        setPersons(persons.concat(person));\n        setMessage({ success: true, info: `Add ${person.name}` });\n        setTimeout(() => {\n          setMessage(null);\n        }, 2000);\n      });\n    }\n  };\n\n  const handleDeletePerson = (id) => {\n    const person = persons.find((person) => person.id === id);\n    window.confirm(`Delete ${person.name}`) &&\n      phoneService\n        .remove(id)\n        .then(() => setPersons(persons.filter((person) => person.id !== id)))\n        .catch((err) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setMessage({\n            success: false,\n            info: `Information of ${person.name} has already been removed from server.`,\n          });\n          setTimeout(() => {\n            setMessage(null);\n          }, 1000);\n          console.log(\"cannot able to delete \" + person.name, err);\n        });\n  };\n\n  const filteredPerson = filterName\n    ? persons.filter((person) => person.name.toLowerCase().includes(filterName))\n    : persons;\n\n  return (\n    <div>\n      <h2>PhoneBook</h2>\n      {message && <Message message={message} />}\n      <Filter onFilter={handleFilter} />\n      <h3>Add a new</h3>\n      <PersonForm onAddPerson={handleAddPerson} />\n      <h3>Numbers</h3>\n      <Persons persons={filteredPerson} onDeletePerson={handleDeletePerson} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}